# test-card-mey Constitution

> Auto-generated by spec-kitty constitution command
> Created: 2026-02-25
> Version: 1.0.0

## Purpose

This constitution captures the technical standards and coding conventions for
test-card-mey. All features and pull requests should align with these principles.

---

## Technical Standards

### Languages and Frameworks

- **TypeScript** — strict mode required; no `any` without explicit justification
- **React** — functional components only; no class components
- **Ant Design** — primary component library; use layout components (Flex, Row/Col, Grid, Space) for all layout and spacing needs
- **Tailwind CSS** — for non-layout visual styling (color, typography, radius, shadow)
- **Less Modules** — for complex styles Tailwind cannot express (pseudo-elements, complex animations, 1px hairlines)

### Testing Requirements

- Testing frameworks: **Jest** and **Vitest**
- Tests are required for all non-trivial logic; no strict coverage target
- Unit tests for utilities and hooks; integration tests for key user flows

### Performance and Scale

- Standard web app targets: page load < 3s, smooth 60fps interactions
- Follow the `vercel-react-best-practices` skill rules, prioritized by impact:
  - **CRITICAL** — eliminate async waterfalls (`async-*`), optimize bundle size (`bundle-*`)
  - **HIGH** — server-side performance (`server-*`)
  - **MEDIUM** — minimize re-renders (`rerender-*`), rendering performance (`rendering-*`)
  - **LOW-MEDIUM** — JavaScript micro-optimizations (`js-*`, `advanced-*`)

### Deployment and Constraints

- Containerized via **Docker**, deployed to **Kubernetes**
- Images must be reproducible; no environment-specific build artifacts baked in

---

## H5 Mobile Styling Standards

Applies to all mobile/H5 views. Reference the `h5-style-guide` skill for full details.

### Style Solution Priority (mandatory order)

| Priority | Solution | When to use |
|----------|----------|-------------|
| 1st | **Ant Design layout components** (Flex, Row/Col, Grid, Space) | All layout and spacing |
| 2nd | **Tailwind CSS** | Non-layout visual styles |
| 3rd | **Less Module** | Complex styles Tailwind cannot express |
| 4th | **`style` inline** | Dynamic values only (JS-computed widths, colors) |

### Units

- **px** in source → auto-converted to **rem** by `postcss-pxtorem` (design base: 750px, rootValue: 37.5)
- **px** (kept as-is): `border: 1px`, `box-shadow`, decorative values that should not scale
- **%**: parent-relative layouts
- **vw/vh**: full-screen or viewport-proportion containers

### Naming (camelCase)

- Class names: camelCase — `.cardItem`, `.headerTitle`, `.btnPrimary`
- State classes: `is` prefix — `.isActive`, `.isDisabled`
- Modifier classes: `has` prefix — `.hasIcon`, `.hasBadge`
- JS hook classes: `js` prefix, no styles — `.jsToggle`
- No pinyin, no meaningless abbreviations

### CSS Property Order

Write properties in this group order (blank line between groups):

1. Positioning — `position`, `top/right/bottom/left`, `z-index`
2. Box model — `display`, `flex-*`, `width`, `height`, `padding`, `margin`
3. Visual — `background`, `border`, `border-radius`, `box-shadow`, `opacity`
4. Typography — `font-size`, `font-weight`, `color`, `line-height`, `text-align`
5. Other — `cursor`, `overflow`, `transition`, `transform`, `animation`

### Code Review Checklist (Styling)

- [ ] Layout uses Ant Design Flex / Row / Col / Space first
- [ ] Non-layout styles use Tailwind before reaching for Less
- [ ] Less Module used only where Tailwind is insufficient
- [ ] Inline `style` only for dynamic values; no static inline styles
- [ ] Class names are camelCase; no pinyin or meaningless abbreviations
- [ ] Layout/size values written in px (postcss converts); decorative values stay px
- [ ] No `!important` except to override third-party libraries
- [ ] Less nesting ≤ 3 levels
- [ ] Colors and spacing use design tokens/variables; no magic numbers

---

## Governance

### Amendment Process

Any team member can propose amendments via pull request. Changes are discussed
and merged following standard PR review process.

### Compliance Validation

Code reviewers validate compliance during PR review. Constitution violations
should be flagged and addressed before merge. The styling checklist above
should be applied to every PR touching style files.

### Exception Handling

Exceptions discussed case-by-case with the team. Strong justification required.
Consider updating the constitution if exceptions become common.
